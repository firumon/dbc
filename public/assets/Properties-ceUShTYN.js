import{Q as I}from"./QCardSection-B8zqNFw5.js";import{Q as U}from"./QInput-DwGHxsu1.js";import{Q as F}from"./QItemLabel-y0CeKWRr.js";import{Q as q,a as L}from"./QItem-B3a1-EVM.js";import{Q as g}from"./QBtn-8kexOv-L.js";import{Q as A}from"./QList-BLNtoxNV.js";import{Q as H}from"./QCardActions-BkXs8E73.js";import{Q as h}from"./QCard-zMgqcLyM.js";import{Q as j}from"./use-router-link-C1KlW-z0.js";import{Q as z}from"./QSpace-CYv9toBz.js";import{Q as G}from"./QBar-4-_vD8CY.js";import{Q as J}from"./QDialog-CnP1ldga.js";import{Q as K}from"./QPage-RsarDNA8.js";import{C as M}from"./ClosePopup-aAkirXHI.js";import{_ as O}from"./ChooseCompanySelect-DbSqL8nV.js";import{u as R}from"./company-B_tY9lVt.js";import{u as W}from"./layout-CcLOBX2J.js";import{l as P}from"./lodash-BMWjruN6.js";import{_ as X}from"./InnerLoading-BSoZfbcz.js";import{u as Y}from"./property-DTM5v0Nh.js";import{u as Z}from"./title-B4t3WEGW.js";import{h as c,c as r,p as ee,a as S,o as t,w as o,b as i,e,f as oe,g as m,r as ae,F as te,i as le,t as f,u as re}from"./index-DPf0em9p.js";import"./render-BBT-_xwK.js";import"./vm-B-IvL0So.js";import"./use-id-eV3rINdq.js";import"./use-dark-DWgxBQGk.js";import"./dom-DYRJl-LZ.js";import"./use-prevent-scroll-8O9FDE32.js";import"./scroll-UIkbkDpm.js";import"./use-timeout-BsMn8phE.js";import"./use-model-toggle-DXD9td5r.js";import"./QSelect-B6DyI-vr.js";import"./QChip-Bshvjc4N.js";import"./format-D5dN_LUK.js";import"./axios-BJmCVD_q.js";import"./user-CzO-FWtq.js";import"./_commonjsHelpers-_d1bhYXs.js";const ue={key:0},se={key:1},ne={key:2},ie={key:3},Me={__name:"Properties",props:["company_id"],setup(w){const v=R(),D=W(),N=Y(),y=w,_=c(y.company_id),Q=c(!1),s=c({}),a=c(null),p=r(()=>N.PropertiesByPropertyName),d=r(()=>_.value||y.company_id),n=r(()=>d.value?v.CompaniesById[d.value]:null),$=r(()=>n.value?v.Properties(n.value.id):null),b=r(()=>n.value?.layout_id),k=r(()=>b.value?D.LayoutsById[b.value]:null),V=r(()=>k.value?k.value.properties:null);function x(){s.value={},P.map(V.value,C=>{s.value[C.name]=P.get($.value,C.name)})}ee(n,x,{immediate:!0});function E(){Q.value=!0,v.syncCompanyProperties(d.value,s.value).then(T)}function T(){x(),Q.value=!1}return Z(n),(C,u)=>(t(),S(K,{padding:"",class:"q-gutter-y-xs"},{default:o(()=>[y.company_id?i("",!0):(t(),S(O,{key:0,label:"Select Company",modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=l=>_.value=l)},null,8,["modelValue"])),e(h,null,{default:o(()=>[e(I,{class:"text-bold bg-grey-2"},{default:o(()=>[...u[2]||(u[2]=[oe("Company Properties",-1)])]),_:1}),e(A,null,{default:o(()=>[(t(!0),m(te,null,ae(V.value,l=>(t(),S(q,null,{default:o(()=>[e(L,null,{default:o(()=>[e(F,null,{default:o(()=>[e(U,{modelValue:s.value[l.name],"onUpdate:modelValue":B=>s.value[l.name]=B,outlined:"",label:re(P.startCase)(l.name)},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024)]),_:2},1024),e(L,{side:""},{default:o(()=>[e(g,{icon:"info",flat:"",dense:"",color:"secondary",padding:"none",onClick:B=>a.value=l},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(H,{align:"right",class:"bg-grey-2"},{default:o(()=>[e(g,{color:"primary",label:"Save Properties",onClick:E,disable:!d.value},null,8,["disable"])]),_:1})]),_:1}),e(X,{loading:Q.value},null,8,["loading"]),e(J,{"model-value":a.value!==null,onBeforeHide:u[1]||(u[1]=l=>a.value=null),persistent:""},{default:o(()=>[e(h,{class:"full-width"},{default:o(()=>[e(G,null,{default:o(()=>[e(j,{name:"info"}),e(z),le(e(g,{dense:"",flat:"",icon:"close"},null,512),[[M]])]),_:1}),e(I,null,{default:o(()=>[a.value.description?(t(),m("p",ue,f(a.value.description),1)):i("",!0),p.value[a.value.property_name]?.description?(t(),m("p",se,f(p.value[a.value.property_name].description),1)):i("",!0),p.value[a.value.property_name]?.example?(t(),m("p",ne,"Ex: "+f(p.value[a.value.property_name].example),1)):i("",!0),a.value.value?(t(),m("p",ie,"Default Value: "+f(a.value.value),1)):i("",!0)]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1}))}};export{Me as default};
