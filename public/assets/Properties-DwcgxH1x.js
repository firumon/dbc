import{Q as I}from"./QCardSection-CiG6isgs.js";import{Q as U}from"./QInput-C9VUkdKg.js";import{Q as F}from"./QItemLabel-BEwWYBE7.js";import{Q as q,a as L}from"./QItem-CVdRD1o1.js";import{Q as g}from"./QBtn-BmTDBXaF.js";import{Q as A}from"./QList-Bha-pkFx.js";import{Q as H}from"./QCardActions-C0hx0afw.js";import{Q as h}from"./QCard-r55_QlSX.js";import{Q as j}from"./use-router-link-Dr-Zi9tW.js";import{Q as z}from"./QSpace-BjsO4rCe.js";import{Q as G}from"./QBar-ByfD1wO8.js";import{Q as J}from"./QDialog-CVyoV1M0.js";import{Q as K}from"./QPage-CvTATe-M.js";import{C as M}from"./ClosePopup-CcfEm1UV.js";import{_ as O}from"./ChooseCompanySelect-CpEcsaEX.js";import{u as R}from"./company-BhloN_DI.js";import{u as W}from"./layout-DEh3ykQU.js";import{l as P}from"./lodash-BMWjruN6.js";import{_ as X}from"./InnerLoading-Ba0I8PfN.js";import{u as Y}from"./property-bT4gPIPO.js";import{u as Z}from"./title-BishfVJW.js";import{h as c,c as r,p as ee,a as S,o as t,w as o,b as i,e,f as oe,g as m,r as ae,F as te,i as le,t as f,u as re}from"./index-D3MJetay.js";import"./render-DOsC2Df9.js";import"./vm-D0m787GO.js";import"./use-id-3XFJ6Wvj.js";import"./use-dark-zETD_P0k.js";import"./dom-t3s1oZ0g.js";import"./use-prevent-scroll-a4Ly7Ch6.js";import"./scroll-Donk8pry.js";import"./use-timeout-BZCs8B8e.js";import"./use-model-toggle-CLRdDvpD.js";import"./QSelect-DjUoCyjX.js";import"./QChip-BGJbybnP.js";import"./format-DQr_1hKF.js";import"./axios-DBCVI-8M.js";import"./user-_mu4dbbL.js";import"./_commonjsHelpers-_d1bhYXs.js";const ue={key:0},se={key:1},ne={key:2},ie={key:3},Me={__name:"Properties",props:["company_id"],setup(w){const v=R(),D=W(),N=Y(),y=w,_=c(y.company_id),Q=c(!1),s=c({}),a=c(null),p=r(()=>N.PropertiesByPropertyName),d=r(()=>_.value||y.company_id),n=r(()=>d.value?v.CompaniesById[d.value]:null),$=r(()=>n.value?v.Properties(n.value.id):null),b=r(()=>n.value?.layout_id),k=r(()=>b.value?D.LayoutsById[b.value]:null),V=r(()=>k.value?k.value.properties:null);function x(){s.value={},P.map(V.value,C=>{s.value[C.name]=P.get($.value,C.name)})}ee(n,x,{immediate:!0});function E(){Q.value=!0,v.syncCompanyProperties(d.value,s.value).then(T)}function T(){x(),Q.value=!1}return Z(n),(C,u)=>(t(),S(K,{padding:"",class:"q-gutter-y-xs"},{default:o(()=>[y.company_id?i("",!0):(t(),S(O,{key:0,label:"Select Company",modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=l=>_.value=l)},null,8,["modelValue"])),e(h,null,{default:o(()=>[e(I,{class:"text-bold bg-grey-2"},{default:o(()=>[...u[2]||(u[2]=[oe("Company Properties",-1)])]),_:1}),e(A,null,{default:o(()=>[(t(!0),m(te,null,ae(V.value,l=>(t(),S(q,null,{default:o(()=>[e(L,null,{default:o(()=>[e(F,null,{default:o(()=>[e(U,{modelValue:s.value[l.name],"onUpdate:modelValue":B=>s.value[l.name]=B,outlined:"",label:re(P.startCase)(l.name)},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024)]),_:2},1024),e(L,{side:""},{default:o(()=>[e(g,{icon:"info",flat:"",dense:"",color:"secondary",padding:"none",onClick:B=>a.value=l},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(H,{align:"right",class:"bg-grey-2"},{default:o(()=>[e(g,{color:"primary",label:"Save Properties",onClick:E,disable:!d.value},null,8,["disable"])]),_:1})]),_:1}),e(X,{loading:Q.value},null,8,["loading"]),e(J,{"model-value":a.value!==null,onBeforeHide:u[1]||(u[1]=l=>a.value=null),persistent:""},{default:o(()=>[e(h,{class:"full-width"},{default:o(()=>[e(G,null,{default:o(()=>[e(j,{name:"info"}),e(z),le(e(g,{dense:"",flat:"",icon:"close"},null,512),[[M]])]),_:1}),e(I,null,{default:o(()=>[a.value.description?(t(),m("p",ue,f(a.value.description),1)):i("",!0),p.value[a.value.property_name]?.description?(t(),m("p",se,f(p.value[a.value.property_name].description),1)):i("",!0),p.value[a.value.property_name]?.example?(t(),m("p",ne,"Ex: "+f(p.value[a.value.property_name].example),1)):i("",!0),a.value.value?(t(),m("p",ie,"Default Value: "+f(a.value.value),1)):i("",!0)]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1}))}};export{Me as default};
