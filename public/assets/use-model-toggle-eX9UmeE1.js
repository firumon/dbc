import{d as H}from"./vm-C9CMmNuj.js";import{x as T,p as M,l as U,A as g}from"./index-CVIMlvYm.js";const P={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},j=["beforeShow","show","beforeHide","hide"];function k({showing:u,canShow:s,hideOnRouteChange:i,handleShow:d,handleHide:f,processOnMount:x}){const n=T(),{props:o,emit:l,proxy:c}=n;let t;function y(e){u.value===!0?a(e):p(e)}function p(e){if(o.disable===!0||e?.qAnchorHandled===!0||s!==void 0&&s(e)!==!0)return;const r=o["onUpdate:modelValue"]!==void 0;r===!0&&(l("update:modelValue",!0),t=e,g(()=>{t===e&&(t=void 0)})),(o.modelValue===null||r===!1)&&m(e)}function m(e){u.value!==!0&&(u.value=!0,l("beforeShow",e),d!==void 0?d(e):l("show",e))}function a(e){if(o.disable===!0)return;const r=o["onUpdate:modelValue"]!==void 0;r===!0&&(l("update:modelValue",!1),t=e,g(()=>{t===e&&(t=void 0)})),(o.modelValue===null||r===!1)&&V(e)}function V(e){u.value!==!1&&(u.value=!1,l("beforeHide",e),f!==void 0?f(e):l("hide",e))}function b(e){o.disable===!0&&e===!0?o["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):e===!0!==u.value&&(e===!0?m:V)(t)}M(()=>o.modelValue,b),i!==void 0&&H(n)===!0&&M(()=>c.$route.fullPath,()=>{i.value===!0&&u.value===!0&&a()}),x===!0&&U(()=>{b(o.modelValue)});const v={show:p,hide:a,toggle:y};return Object.assign(c,v),v}export{P as a,k as b,j as u};
