import{R as q,Q as P}from"./QBtn-CmpX_coh.js";import{Q as C}from"./QCardSection-Jbcbm-vP.js";import{Q as y}from"./QInput-xwkH9gNC.js";import{Q as $}from"./QCard-Dz9uU80K.js";import{Q as A}from"./QPage-CMxJKmsA.js";import{h as V,c as w,a as x,o as u,w as l,e,g as S,F as U,r as B,i as j,f,t as s,b as k,j as R,v as z,k as d}from"./index-CVIMlvYm.js";import{Q as I,a as b}from"./QItem-Dgu9JK4v.js";import{Q as g}from"./QItemLabel-Bc19V8a5.js";import{Q as D}from"./QList-DmXAj4qO.js";import{u as E}from"./property-CoHgzj97.js";import{l as L}from"./lodash-BMWjruN6.js";import{_ as J}from"./InnerLoading-CpwP3uL1.js";import"./use-router-link-CSWtRJzU.js";import"./vm-C9CMmNuj.js";import"./render-6HoAj0_g.js";import"./dom-D7QtCoj4.js";import"./use-id-CgI_dfuk.js";import"./use-dark-DkcyDAJO.js";import"./axios-Din57D94.js";import"./_commonjsHelpers-_d1bhYXs.js";const G={__name:"PropertiesList",emits:["tap"],setup(h){const p=V(""),v=E(),m=w(()=>v.VCardProperties),_=w(()=>p.value?m.value.filter(t=>[t.property,t.example,t.description,t.category].join(" ").toLowerCase().includes(p.value)):m.value);return(t,r)=>(u(),x(D,{separator:""},{default:l(()=>[e(I,null,{default:l(()=>[e(b,null,{default:l(()=>[e(y,{label:"Filter",outlined:"",modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=o=>p.value=o)},null,8,["modelValue"])]),_:1})]),_:1}),(u(!0),S(U,null,B(_.value,o=>j((u(),x(I,{clickable:"",onClick:n=>t.$emit("tap",o)},{default:l(()=>[e(b,null,{default:l(()=>[e(g,null,{default:l(()=>[f(s(o.property)+" ("+s(o.category)+")",1)]),_:2},1024),e(g,{caption:""},{default:l(()=>[f(s(o.example),1)]),_:2},1024),e(g,{caption:""},{default:l(()=>[f(s(o.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[q]])),256))]),_:1}))}},H={__name:"ListPropertiesOfVCardId",props:["id","name"],setup(h){const p=h,v=E(),m=w(()=>v.PropertiesByVCardPropertyId),_=w(()=>p.id&&m.value.hasOwnProperty(p.id)?m.value[p.id]:[]);function t({id:r}){v.deleteProperty(r)}return(r,o)=>_.value.length?(u(),x($,{key:0},{default:l(()=>[e(C,{class:"text-bold bg-grey-2"},{default:l(()=>[f("Current Properties of Selected VCard Property: "+s(h.name),1)]),_:1}),e(C,null,{default:l(()=>[e(D,null,{default:l(()=>[(u(!0),S(U,null,B(_.value,n=>(u(),x(I,null,{default:l(()=>[e(b,null,{default:l(()=>[e(g,null,{default:l(()=>[f(s(n.name),1)]),_:2},1024),e(g,{caption:""},{default:l(()=>[f(s(n.description),1)]),_:2},1024)]),_:2},1024),e(b,null,{default:l(()=>[e(g,{caption:""},{default:l(()=>[f("Default Value: "+s(n.value),1)]),_:2},1024),e(g,{caption:""},{default:l(()=>[f("Example: "+s(n.example),1)]),_:2},1024)]),_:2},1024),e(b,{side:""},{default:l(()=>[f(s(JSON.stringify(n.params).slice(1,-1)),1)]),_:2},1024),e(b,{side:""},{default:l(()=>[e(P,{icon:"delete",color:"negative",flat:"",dense:"",onClick:N=>t(n)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})):k("",!0)}},K={key:0,class:"row"},W={class:"col col-3"},X={class:"col col-9 text-caption"},Y={class:"col-9 text-caption"},Z={class:"row q-col-gutter-xs items-center"},ee={class:"col-12"},le={class:"col-12"},te={class:"col-12"},ae={class:"col"},oe={class:"col-8"},se={class:"col-4 text-right"},he={__name:"Add",setup(h){const p=E(),v=V(!1),m=V(!1);function _(){m.value=!m.value}const t=R({v_card_property_id:"",name:"",value:"",params:{},description:"",example:""}),r=V(null),o=V({}),n=V(null),N=V(null);function O(c){r.value=c,o.value={},t.v_card_property_id=c.id,n.value=c.id,N.value=c.property,c.parameters.map(a=>o.value[a]=null),_()}function F(){v.value=!0;let c={};L.forEach(o.value,(i,Q)=>i?c[Q]=i:null);let a=Object.assign({},t,{params:c});p.addNewProperty(a).then(()=>v.value=!1).then(M)}function M(){L.forEach(t,(c,a)=>t[a]=a==="params"?{}:""),o.value={},r.value=null}return(c,a)=>(u(),x(A,{padding:"",class:"q-gutter-sm"},{default:l(()=>[e($,null,{default:l(()=>[e(C,{class:"bg-grey-2 text-bold justify-between items-center flex"},{default:l(()=>[a[4]||(a[4]=f(" Add Property ",-1)),e(P,{icon:"menu",dense:"",flat:"",rounded:"",onClick:_})]),_:1}),j(e(C,{class:"col-xs-12"},{default:l(()=>[e(G,{onTap:O})]),_:1},512),[[z,m.value]]),m.value?k("",!0):(u(),x(C,{key:0},{default:l(()=>[r.value?(u(),S("div",K,[d("div",W,s(r.value.property),1),d("div",X,s(r.value.example),1),a[5]||(a[5]=d("div",{class:"col-3 col"},"Â ",-1)),d("div",Y,s(r.value.description),1)])):k("",!0),d("div",Z,[d("div",ee,[e(y,{label:"Name (No Space)",modelValue:t.name,"onUpdate:modelValue":a[0]||(a[0]=i=>t.name=i),outlined:""},null,8,["modelValue"])]),d("div",le,[e(y,{label:"Description",modelValue:t.description,"onUpdate:modelValue":a[1]||(a[1]=i=>t.description=i),outlined:""},null,8,["modelValue"])]),d("div",te,[e(y,{label:"Example",modelValue:t.example,"onUpdate:modelValue":a[2]||(a[2]=i=>t.example=i),outlined:""},null,8,["modelValue"])]),Object.values(o.value).length?(u(!0),S(U,{key:0},B(o.value,(i,Q)=>(u(),S("div",ae,[e(y,{label:Q,modelValue:o.value[Q],"onUpdate:modelValue":T=>o.value[Q]=T,outlined:""},null,8,["label","modelValue","onUpdate:modelValue"])]))),256)):k("",!0),a[6]||(a[6]=d("div",{class:"col-12"},null,-1)),d("div",oe,[e(y,{label:"Default Value",modelValue:t.value,"onUpdate:modelValue":a[3]||(a[3]=i=>t.value=i),outlined:""},null,8,["modelValue"])]),d("div",se,[e(P,{color:"primary",label:"Save",size:"lg",class:"full-width",onClick:F})])])]),_:1}))]),_:1}),n.value?(u(),x(H,{key:0,id:n.value,name:N.value},null,8,["id","name"])):k("",!0),e(J,{loading:v.value},null,8,["loading"])]),_:1}))}};export{he as default};
