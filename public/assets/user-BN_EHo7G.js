import{q as w,h as d,c as p}from"./index-CVIMlvYm.js";import{api as t}from"./axios-Din57D94.js";import{l as P}from"./lodash-BMWjruN6.js";const x=w("user",()=>{const n=d(null),o=d(AuthUser),a=p(()=>n.value||i()||[]),f=p(()=>P.keyBy(a.value,"id"));function i(){t("user").then(e=>n.value=e)}function l(e){return new Promise(r=>{t("profile/update",e).then(s=>o.value=s).then(r)})}function c(e){return new Promise(r=>{t("profile/password",{password:e}).then(s=>o.value=s).then(r)})}function h(e,r){return new Promise(s=>{t("user/add",{role:r,...e}).then(u=>n.value=u).then(s)})}function m(e,r){return new Promise(s=>{t("user/update",{id:e,...r}).then(u=>n.value=u).then(s)})}function U(e,r){return new Promise(s=>{t("user/password",{id:e,password:r}).then(u=>n.value=u).then(s)})}return{User:o,Users:a,UsersById:f,updateProfileBasic:l,updateProfilePassword:c,addUser:h,updateUserBasic:m,updateUserPassword:U,fetchUsers:i}});export{x as u};
