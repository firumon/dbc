import{Q as b}from"./QSpace-Y9BK-8G3.js";import{Q as m}from"./QBtn-CmpX_coh.js";import{Q as o}from"./QCardSection-Jbcbm-vP.js";import{Q as c}from"./QInput-xwkH9gNC.js";import{Q as w}from"./QCard-Dz9uU80K.js";import{C as Q}from"./ClosePopup-C2UBjTUF.js";import{u as x}from"./user-BN_EHo7G.js";import{_ as C}from"./InnerLoading-CpwP3uL1.js";import{j as V,h as p,c as U,a as y,b as k,o as B,w as l,e,f,i as P,t as N,k as S}from"./index-CVIMlvYm.js";const h={class:"text-right"},F={__name:"Manage",props:["user_id"],setup(v){const d=x(),i=v,s=V({name:"",email:""}),u=p(""),n=U(()=>d.UsersById[i.user_id]),t=p(!1);function _(){t.value=!0,d.updateUserBasic(i.user_id,s).then(()=>t.value=!1)}function g(){t.value=!0,d.updateUserPassword(i.user_id,u.value).then(()=>u.value="").then(()=>t.value=!1)}return(D,a)=>n.value?(B(),y(w,{key:0},{default:l(()=>[e(o,{class:"text-bold bg-grey-2 flex items-center"},{default:l(()=>[f(N(n.value.name),1),e(b),P(e(m,{icon:"close",flat:"",color:"primary",dense:""},null,512),[[Q]])]),_:1}),e(o,{class:"q-gutter-y-xs"},{default:l(()=>[e(c,{outlined:"",label:"Name","model-value":s.name||n.value.name,"onUpdate:modelValue":a[0]||(a[0]=r=>s.name=r)},null,8,["model-value"]),e(c,{outlined:"",label:"Email","model-value":s.email||n.value.email,"onUpdate:modelValue":a[1]||(a[1]=r=>s.email=r)},null,8,["model-value"]),S("div",h,[e(m,{label:"Update",color:"positive",onClick:_})])]),_:1}),e(o,{class:"text-bold bg-grey-2"},{default:l(()=>[...a[3]||(a[3]=[f("Password",-1)])]),_:1}),e(o,{horizontal:"",class:"items-center"},{default:l(()=>[e(o,{class:"col-7"},{default:l(()=>[e(c,{outlined:"",label:"Password",modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=r=>u.value=r)},null,8,["modelValue"])]),_:1}),e(o,{class:"col-5"},{default:l(()=>[e(m,{label:"Change Password",color:"warning",onClick:g})]),_:1})]),_:1}),e(C,{loading:t.value},null,8,["loading"])]),_:1})):k("",!0)}};export{F as _};
