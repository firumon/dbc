import{q as _,h as B,c as n}from"./index-D3MJetay.js";import{api as a}from"./axios-DBCVI-8M.js";import{l as s}from"./lodash-BMWjruN6.js";const b=_("layout",()=>{const r=B(null),l=n(()=>r.value||c()||[]),p=n(()=>s.keyBy(l.value,"id")),i=n(()=>s.map(l.value,e=>({label:e.name,value:e.id})));function c(){a("layout").then(e=>r.value=e)}function d(e){return new Promise(t=>a("layout/save",e).then(o=>r.value=o).then(t))}function h(e,t){return new Promise(o=>a("layout/update",{id:e,...t}).then(u=>r.value=u).then(o))}function v(e,t){return new Promise(o=>a("layout/property",{layout_id:e,...t}).then(u=>r.value=u).then(o))}function f(e,t,o){return new Promise(u=>a("layout/property_update",{layout_id:e,layout_property_id:t,...o}).then(y=>r.value=y).then(u))}function m(e,t){return new Promise(o=>a("layout/property_delete",{layout_id:e,layout_property_id:t}).then(u=>r.value=u).then(o))}function L(e,t,o){return new Promise(u=>a("layout/users_update",{layout_id:e,access_users:t,role_name:o}).then(y=>r.value=y).then(u))}const P=n(()=>(e,t)=>t?s.find(p.value[e].properties,["name",t]):p.value[e]?.properties||[]),w=n(()=>(e,t)=>t?s.get(s.groupBy(l.value[e]?.users,"user_id"),[t,"resellers"],[]):[]);return{Layouts:l,addNewLayout:d,updateLayout:h,LayoutsById:p,LayoutProperties:P,LayoutResellers:w,addLayoutProperty:v,updateLayoutProperty:f,deleteLayoutProperty:m,updateUsers:L,selectOptions:i}});export{b as u};
