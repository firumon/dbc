import{Q as I}from"./QCardSection-Jbcbm-vP.js";import{Q as U}from"./QInput-xwkH9gNC.js";import{Q as F}from"./QItemLabel-Bc19V8a5.js";import{Q as q,a as L}from"./QItem-Dgu9JK4v.js";import{Q as g}from"./QBtn-CmpX_coh.js";import{Q as A}from"./QList-DmXAj4qO.js";import{Q as H}from"./QCardActions-Cei77pT8.js";import{Q as h}from"./QCard-Dz9uU80K.js";import{Q as j}from"./use-router-link-CSWtRJzU.js";import{Q as z}from"./QSpace-Y9BK-8G3.js";import{Q as G}from"./QBar-DtggA4KL.js";import{Q as J}from"./QDialog-DIDeD7D9.js";import{Q as K}from"./QPage-CMxJKmsA.js";import{C as M}from"./ClosePopup-C2UBjTUF.js";import{_ as O}from"./ChooseCompanySelect-C6s-Rz62.js";import{u as R}from"./company-C-bWVBI7.js";import{u as W}from"./layout-DXGt4dUJ.js";import{l as P}from"./lodash-BMWjruN6.js";import{_ as X}from"./InnerLoading-CpwP3uL1.js";import{u as Y}from"./property-CoHgzj97.js";import{u as Z}from"./title-DVMFqw8Q.js";import{h as c,c as r,p as ee,a as S,o as t,w as o,b as i,e,f as oe,g as m,r as ae,F as te,i as le,t as f,u as re}from"./index-CVIMlvYm.js";import"./render-6HoAj0_g.js";import"./vm-C9CMmNuj.js";import"./use-id-CgI_dfuk.js";import"./use-dark-DkcyDAJO.js";import"./dom-D7QtCoj4.js";import"./use-prevent-scroll-CA8N-g0I.js";import"./scroll-Bz2OQy8r.js";import"./use-timeout-CIWZKlVR.js";import"./use-model-toggle-eX9UmeE1.js";import"./QSelect-BP46biaE.js";import"./QChip-D8QrZMEs.js";import"./format-CSSDOkxg.js";import"./axios-Din57D94.js";import"./user-BN_EHo7G.js";import"./_commonjsHelpers-_d1bhYXs.js";const ue={key:0},se={key:1},ne={key:2},ie={key:3},Me={__name:"Properties",props:["company_id"],setup(w){const v=R(),D=W(),N=Y(),y=w,_=c(y.company_id),Q=c(!1),s=c({}),a=c(null),p=r(()=>N.PropertiesByPropertyName),d=r(()=>_.value||y.company_id),n=r(()=>d.value?v.CompaniesById[d.value]:null),$=r(()=>n.value?v.Properties(n.value.id):null),b=r(()=>n.value?.layout_id),k=r(()=>b.value?D.LayoutsById[b.value]:null),V=r(()=>k.value?k.value.properties:null);function x(){s.value={},P.map(V.value,C=>{s.value[C.name]=P.get($.value,C.name)})}ee(n,x,{immediate:!0});function E(){Q.value=!0,v.syncCompanyProperties(d.value,s.value).then(T)}function T(){x(),Q.value=!1}return Z(n),(C,u)=>(t(),S(K,{padding:"",class:"q-gutter-y-xs"},{default:o(()=>[y.company_id?i("",!0):(t(),S(O,{key:0,label:"Select Company",modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=l=>_.value=l)},null,8,["modelValue"])),e(h,null,{default:o(()=>[e(I,{class:"text-bold bg-grey-2"},{default:o(()=>[...u[2]||(u[2]=[oe("Company Properties",-1)])]),_:1}),e(A,null,{default:o(()=>[(t(!0),m(te,null,ae(V.value,l=>(t(),S(q,null,{default:o(()=>[e(L,null,{default:o(()=>[e(F,null,{default:o(()=>[e(U,{modelValue:s.value[l.name],"onUpdate:modelValue":B=>s.value[l.name]=B,outlined:"",label:re(P.startCase)(l.name)},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024)]),_:2},1024),e(L,{side:""},{default:o(()=>[e(g,{icon:"info",flat:"",dense:"",color:"secondary",padding:"none",onClick:B=>a.value=l},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(H,{align:"right",class:"bg-grey-2"},{default:o(()=>[e(g,{color:"primary",label:"Save Properties",onClick:E,disable:!d.value},null,8,["disable"])]),_:1})]),_:1}),e(X,{loading:Q.value},null,8,["loading"]),e(J,{"model-value":a.value!==null,onBeforeHide:u[1]||(u[1]=l=>a.value=null),persistent:""},{default:o(()=>[e(h,{class:"full-width"},{default:o(()=>[e(G,null,{default:o(()=>[e(j,{name:"info"}),e(z),le(e(g,{dense:"",flat:"",icon:"close"},null,512),[[M]])]),_:1}),e(I,null,{default:o(()=>[a.value.description?(t(),m("p",ue,f(a.value.description),1)):i("",!0),p.value[a.value.property_name]?.description?(t(),m("p",se,f(p.value[a.value.property_name].description),1)):i("",!0),p.value[a.value.property_name]?.example?(t(),m("p",ne,"Ex: "+f(p.value[a.value.property_name].example),1)):i("",!0),a.value.value?(t(),m("p",ie,"Default Value: "+f(a.value.value),1)):i("",!0)]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1}))}};export{Me as default};
