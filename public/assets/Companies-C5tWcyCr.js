import{Q as x}from"./QSpace-CYv9toBz.js";import{Q as f,R as $}from"./QBtn-8kexOv-L.js";import{Q as S}from"./QPage-RsarDNA8.js";import{Q as w}from"./QCardSection-B8zqNFw5.js";import{Q as q}from"./QSeparator-wFHh1Z2L.js";import{Q as B}from"./use-router-link-C1KlW-z0.js";import{Q as b}from"./QCardActions-BkXs8E73.js";import{Q as h}from"./QCard-zMgqcLyM.js";import{u as Q}from"./user-CzO-FWtq.js";import{l as y}from"./lodash-BMWjruN6.js";import{c as g,g as i,o as t,k as a,e,a as v,b as C,F as k,r as V,i as I,w as c,t as m,h as M,f as N}from"./index-DPf0em9p.js";import{Q as U}from"./QImg-CEvf78MP.js";import{u as D}from"./company-B_tY9lVt.js";import"./vm-B-IvL0So.js";import"./dom-DYRJl-LZ.js";import"./render-BBT-_xwK.js";import"./use-dark-DWgxBQGk.js";import"./axios-BJmCVD_q.js";import"./_commonjsHelpers-_d1bhYXs.js";import"./use-timeout-BsMn8phE.js";const L={class:"row q-col-gutter-sm"},E={class:"col-12 flex items-center q-py-md q-pl-md"},F={class:"col-xs-6 col-sm-4 col-md-3 col-lg-2 col-xl-1"},R={class:"text-subtitle1 text-bold"},z={class:"text-body2"},A={__name:"ChooseManagerCardList",props:["modelValue"],emits:["update:modelValue"],setup(u,{emit:p}){const d=u,o=p,l=Q(),_=g(()=>y.filter(l.Users,["role","Manager"]));return(r,s)=>(t(),i("div",L,[a("div",E,[s[1]||(s[1]=a("div",{class:"text-bold text-subtitle1"},"Select Manager",-1)),e(x),d.modelValue?(t(),v(f,{key:0,icon:"close",color:"red",flat:"",onClick:s[0]||(s[0]=n=>o("update:modelValue",d.modelValue))})):C("",!0)]),(t(!0),i(k,null,V(_.value,n=>(t(),i("div",F,[I((t(),v(h,{flat:"",bordered:"",onClick:X=>o("update:modelValue",n.id)},{default:c(()=>[e(w,{class:"bg-grey-2"},{default:c(()=>[a("div",R,m(n.name),1),a("div",z,m(n.email),1)]),_:2},1024),e(q),e(b,{align:"right"},{default:c(()=>[e(B,{name:"forward",color:"primary",size:"sm"})]),_:1})]),_:2},1032,["onClick"])),[[$]])]))),256))]))}},P={class:"row q-col-gutter-sm"},T={class:"col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},j={class:"absolute-bottom"},G={class:"text-caption"},H={class:"text-subtitle2"},J={key:0,class:"col-12 text-center"},K={__name:"ChooseCompaniesCardList",props:["manager_id"],setup(u){const p=u,d=D(),o=g(()=>y.filter(d.Companies,({users:l})=>l.includes(p.manager_id)));return(l,_)=>(t(),i("div",P,[(t(!0),i(k,null,V(o.value,r=>(t(),i("div",T,[e(h,{flat:"",bordered:""},{default:c(()=>[e(U,{src:r.logo_url,ratio:"1.5",fit:"contain",class:"cursor-pointer",height:"180px"},{default:c(()=>[a("div",j,[a("div",G,m(r.code),1),a("div",H,m(r.name),1),a("div",null,m(r.base_url),1)])]),_:2},1032,["src"]),e(b,{align:"between"},{default:c(()=>[e(f,{icon:"menu_book",label:"Details",flat:"","no-caps":"",color:"primary",to:{name:"company_detail",params:{id:r.id}}},null,8,["to"]),e(f,{icon:"read_more",label:"Individuals",flat:"","no-caps":"",color:"primary",to:{name:"company_individuals",params:{company_id:r.id}}},null,8,["to"])]),_:2},1024)]),_:2},1024)]))),256)),o.value.length?C("",!0):(t(),i("div",J,"no companies assigned yet.."))]))}},O={key:0},W={class:"flex items-center q-pl-sm text-bold q-mb-md"},xe={__name:"Companies",props:["manager_id"],setup(u){const p=Q(),d=u,o=M(null),l=g(()=>o.value||d.manager_id),_=g(()=>l.value?p.UsersById[l.value]:null);return(r,s)=>(t(),v(S,{padding:""},{default:c(()=>[l.value?(t(),i("div",O,[a("div",W,[N(m(_.value.name),1),e(x),e(f,{label:"Change Manager",color:"secondary",outline:"","no-caps":"",onClick:s[0]||(s[0]=n=>o.value=null)})]),e(K,{manager_id:_.value.id},null,8,["manager_id"])])):(t(),v(A,{key:1,modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value=n)},null,8,["modelValue"]))]),_:1}))}};export{xe as default};
